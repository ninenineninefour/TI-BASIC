// List of variables used:
// Lâ‚: List of coordinates of each segment of the "snake"
// Lâ‚‚: The order of each element of Lâ‚
// P: Index of the "head" segment
// N: Coordinates of the next segment
// D: Displacement from the previous segment to the next segment
// X: Coordinates of the "food"
// K: Last key pressed
// I: Temporary variable used for loops

// Turn off axes, grid, functions, and plots
GridOff
AxesOff
PlotsOff 
FnOff

// Setup window size, bounds should be [0,62] and [0,94]
ZStandard
84â†’Xmin
72â†’Ymax
ZInteger

// Draw box
Vertical 0
Vertical 94
Pxl-Off(0,0
Pxl-Off(0,94
Horizontal 0
Horizontal 61

// Initialize up variables
4â†’dim(Lâ‚
{4,3,2,1â†’Lâ‚‚
1â†’P
44.32â†’N
3â†’D
Nâ†’X

// Main game loop
// Does not stop, loop exits via Goto
While 1

// Check if the "head" has reached the "food"
If N=X
Then
// Add a new segment
SortA(Lâ‚‚,Lâ‚
augment({N},Lâ‚â†’Lâ‚
augment({1},1+Lâ‚‚â†’Lâ‚‚
ğ‘–â†’P
End

// Generate a new location for the "food"
While N=X
Pxl-Off(62-á´‡2fPart(X),int(X
2.02+3int(31rand)+.03int(20randâ†’X
Pxl-On(62-á´‡2fPart(X),int(X
End

// Wait about a second for the user's input
0â†’K
For(I,0,7
K+getKeynot(Kâ†’K // K is not overwritten if it is 0
End

// Pause if the player presses ENTER (key #105)
If K=105
Pause

// Get the modifier from the player's keypress
// RIGHT is key #26, LEFT is key #24, UP is key #25, DOWN is key #34
3((K=26)-(K=24)+.01((K=25)-(K=34

// If this modifier is not zero, set D to the modifier
Ans+(D-Ans)not(Ans(Ans+Dâ†’D

// Check if the player hit a wall or themselves
N+2D/3
If pxl-Test(62-á´‡2fPart(Ans),int(Ans
Goto 99

// Add D to N to get the next position
N+Dâ†’N

// Draw the next segment
Lâ‚(abs(P
Pt-On(int(N),á´‡2fPart(2),2

// Erase the last segment, unless the game has just started
If not(imag(P
Pt-Off(int(Ans),á´‡2fPart(Ans),2
abs(Pâ†’P

// Set N to the Pth element of Lâ‚
Nâ†’Lâ‚(P

// Update the Pth element of Lâ‚‚
1+max(Lâ‚‚â†’Lâ‚‚(P

// Set P to P+1. If P is larger than the length of Lâ‚, set it to 1 instead.
1+P(P<dim(Lâ‚â†’P

// End of main game loop
End

// Game over
Lbl 99

// Erase each segment in reverse order
Pâ†’I
Repeat I=P
I-1
Ans+dim(Lâ‚)not(Ansâ†’I
Lâ‚(I
Pt-Off(int(Ans),á´‡2fPart(Ans),2
End

// Clear the graph screen and set it to standard settings
ClrDraw
ZStandard
AxesOn

// Output the player's score
Disp "SCORE:",dim(Lâ‚)-5

// Remove Lâ‚ and Lâ‚‚ to clear out RAM
DelVar Lâ‚
DelVar Lâ‚‚